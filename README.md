# DB1131_final_project

## Demo

:link: **[Demo Video](https://youtu.be/3wDmh_ZPbmE)**

## Intruduction

「真正的餓徒是不排隊的！」是一個專為台大學生設計的線上訂餐平台，旨在解決學生在學餐用餐高峰時人多擁擠的問題，以及提供學生靈活安排用餐時間的可能性。
學生可在特定日期和時段，透過此平台完成線上點餐和付款，並指定取餐時間。

## 使用者功能

### 顧客的功能

在本系統中，顧客可以執行以下功能：

* 登入、登出：系統提供簡單的身份驗證功能，顧客可以使用現有的帳號和密碼登入系統。

* 查看餐廳資訊：系統提供顧客可以查看所有商家的營業狀況和地點。

* 訂餐（提交訂單）：系統提供顧客可以在線上預訂餐點，除了可以選擇商家、餐點品項、使用折價券之外，還可以選擇是否要免洗餐具、塑膠袋等以及備註。另外，系統也提供購物車功能，方便使用者訂餐。

* 預計取餐時間：在訂餐系統中，每項餐點有預計製作時間，因此使用者可以根據各商家餐點的製作時間決定是否要訂餐。

* 領取、使用折價券：單筆訂單滿\$200時會得到一張折價券，顧客可以領取並在訂單（下一筆開始）中使用，一次限用一張。

*  查看處理中訂單、已完成訂單、可用折價券：系統提供顧客查詢訂單、折價券的功能，讓使用者知道自己訂單的狀況和自己的消費狀況。

* 評論訂單：顧客可以針對某筆訂單的表現，給予1至5顆星及50字內評論表達對於訂單的想法。

### 商家的功能

在本系統中，商家可以執行以下功能：

* 接收訂單：商家可以從平台上查看顧客新增的訂單，並可以在準備好訂單內容之後在系統上登記完成定單，讓顧客知道訂單狀況，等待顧客前來領取。

* 公告營業時間：此部分為固定的營業時間，亦即排除國定假日、颱風假等特殊日子的正常情形。格式為星期一至星期日，每天分別營業幾點至幾點。

* 打卡開店、調整供應量：每日開店時系統會從打卡頁面開始，紀錄商家該日有營業及開始營業的時間。並更新當日各餐點的供應數量。

* 即時查看餐點剩餘數量：商家能方便地即時從系統中查看各餐點的剩餘量。

* 打卡關店：每日關店之時會在系統上進行確認，以紀錄確切的下班時間。

### 登入

系統前端並**沒有**提供註冊帳號功能，我們預設學生、商家的帳號是學校計中創辦的，若助教要登入系統可以連接資料庫的 server 查看可使用的帳號密碼。

## Prerequisite

我們的系統是用 docker 容器化技術來打包，執行的主機需事先安裝好 `docker` 引擎和 `docker-compose`。另外，我們的前端、後端、資料庫服務分別會轉發到主機的 `3000`、`5001`、 `5433` ports，確認主機的這幾個 ports 沒有其它服務正在跑以避免不預期的情況發生。

## Execution

在專案主目錄下用以下 script 來執行系統，第一次 build 可能需要一段時間

```bash
./run.sh all
```

確認服務是否都有跑起來，執行

```bash
docker-compose ps
```
應該要看到三個服務（frontend, backend, db) 以及其資訊

## Logs

在另一個終端機視窗執行，監控後端的輸出

```bash
docker-compose logs -f backend
```

在另一個終端機視窗執行，監控資料庫 server 的輸出

```bash
docker-compose logs -f db
```

## Connect to the system

打開瀏覽器輸入以下網址，連接前端服務

```
http://localhost:3000
```

若有需要，也可以自行連接後端、資料庫服務

## Stop

停止整個專案

```bash
./stop.sh
```
